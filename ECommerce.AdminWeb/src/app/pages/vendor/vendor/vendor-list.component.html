<div class="card tile-panel">
    <div class="card-header">
        <h4 style="display: contents;" class="card-title mb-0">Vendors</h4>
        <button (click)="add()" class="btn btn-icon btn-tnx float-end"
            [ngClass]="{'btn-outline-success':access.canInsert, 'btn-outline-secondary':!access.canInsert}"
            title="{{access.canInsert ? 'Click here to add new record.' : 'You do not have add access of this page.'}}">
            <i class="fa fa-plus"></i>
        </button>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-lg-12">
                <form #SearchVendorForm="ngForm" novalidate>
                    <div class="row">
                        <div class="col-lg-3 col-md-6">
                            <div class="form-group mb-2">
                                <label for="inSearchName" class="form-label">Name</label>
                                <div class="input-group">
                                    <input type="text" class="form-control shadow-sm"
                                        [(ngModel)]="vendorParameterModel.name" id="inSearchName" name="inSearchName"
                                        placeholder="Vendor Name">
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-3 col-md-6">
                            <div class="form-group mb-2">
                                <label for="inSearchEmail" class="form-label">Email</label>
                                <div class="input-group">
                                    <input type="text" class="form-control shadow-sm"
                                        [(ngModel)]="vendorParameterModel.email" id="inSearchEmail" name="inSearchEmail"
                                        placeholder="Email">
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-3 col-md-6">
                            <div class="form-group mb-2">
                                <label for="inSearchPhone" class="form-label">Phone</label>
                                <div class="input-group">
                                    <input type="text" class="form-control shadow-sm"
                                        [(ngModel)]="vendorParameterModel.phone" id="inSearchPhone" name="inSearchPhone"
                                        placeholder="Phone Number">
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-3 col-md-6">
                            <div class="form-group mb-2">
                                <label for="inSearchPostalCode" class="form-label">Postal Code</label>
                                <div class="input-group">
                                    <input type="text" class="form-control shadow-sm"
                                        [(ngModel)]="vendorParameterModel.postalCode" id="inSearchPostalCode"
                                        name="inSearchPostalCode" placeholder="Postal Code">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-3 mb-4">
                        <button class="btn btn-primary" (click)="search()"
                            [ngClass]="{'btn-outline-primary':!access.canView, 'btn-outline-secondary':!access.canView}"
                            title="{{!(!access.canView) ? 'Click here to search record.' : 'You do not have search access of this page.'}}">
                            Search
                        </button>
                        <button type="button" class="btn btn-outline-secondary" (click)="reset()">Reset</button>
                    </div>
                </form>
            </div>
        </div>
        <div class="table-wrapper">
            <div class="table-scroll">
                <table class="table table-hover common-table-bordered main-table">
                    <thead>
                        <tr>
                            <th (click)="sort('Id')" class="sort-header text-end">
                                Id
                                <i class="fa"
                                    [ngClass]="{'fa-sort': (vendorParameterModel.sortExpression != 'Id'), 'fa-sort-asc': (vendorParameterModel.sortExpression == 'Id' && vendorParameterModel.sortDirection === 'asc'), 'fa-sort-desc': (vendorParameterModel.sortExpression == 'Id' && vendorParameterModel.sortDirection === 'desc')}"></i>
                            </th>
                            <th (click)="sort('Name')" class="sort-header text-start">
                                Name
                                <i class="fa"
                                    [ngClass]="{'fa-sort': (vendorParameterModel.sortExpression != 'Name'), 'fa-sort-asc': (vendorParameterModel.sortExpression == 'Name' && vendorParameterModel.sortDirection === 'asc'), 'fa-sort-desc': (vendorParameterModel.sortExpression == 'Name' && vendorParameterModel.sortDirection === 'desc')}"></i>
                            </th>
                            <th (click)="sort('Email')" class="sort-header text-start">
                                Email
                                <i class="fa"
                                    [ngClass]="{'fa-sort': (vendorParameterModel.sortExpression != 'Email'), 'fa-sort-asc': (vendorParameterModel.sortExpression == 'Email' && vendorParameterModel.sortDirection === 'asc'), 'fa-sort-desc': (vendorParameterModel.sortExpression == 'Email' && vendorParameterModel.sortDirection === 'desc')}"></i>
                            </th>
                            <th (click)="sort('Phone')" class="sort-header text-start">
                                Phone
                                <i class="fa"
                                    [ngClass]="{'fa-sort': (vendorParameterModel.sortExpression != 'Phone'), 'fa-sort-asc': (vendorParameterModel.sortExpression == 'Phone' && vendorParameterModel.sortDirection === 'asc'), 'fa-sort-desc': (vendorParameterModel.sortExpression == 'Phone' && vendorParameterModel.sortDirection === 'desc')}"></i>
                            </th>
                            <th (click)="sort('PostalCode')" class="sort-header text-start">
                                Postal Code
                                <i class="fa"
                                    [ngClass]="{'fa-sort': (vendorParameterModel.sortExpression != 'PostalCode'), 'fa-sort-asc': (vendorParameterModel.sortExpression == 'PostalCode' && vendorParameterModel.sortDirection === 'asc'), 'fa-sort-desc': (vendorParameterModel.sortExpression == 'PostalCode' && vendorParameterModel.sortDirection === 'desc')}"></i>
                            </th>
                            <th class="sort-header text-start" style="width: 100px;">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of vendorGridModel?.vendors;">
                            <td class="text-end">{{item.id}}</td>
                            <td class="text-start">{{item.name}}</td>
                            <td class="text-start">{{item.email}}</td>
                            <td class="text-start">{{item.phone}}</td>
                            <td class="text-start">{{item.postalCode}}</td>
                            <td>
                                <button class="btn btn-icon btn-tnx btn-outline-success" (click)="edit(item.id)"
                                    [ngClass]="{'btn-outline-primary':access.canUpdate, 'btn-outline-secondary':!access.canUpdate}"
                                    title="{{access.canUpdate ? 'Click here to edit this record.' : 'You do not have edit access of this page.'}}">
                                    <i class="fa fa-pencil"></i>
                                </button>
                                <button class="btn btn-icon btn-tnx" (click)="delete(item.id)"
                                    [ngClass]="{'btn-outline-danger':access.canDelete, 'btn-outline-secondary':!access.canDelete}"
                                    title="{{access.canDelete ? 'Click here to delete this record.' : 'You do not have delete access of this page.'}}">
                                    <i class="fa fa-trash"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="card-footer text-body-secondary">
        <div class="float-start card-header-controls">
            <select [(ngModel)]="vendorParameterModel.pageSize" (change)="search()" class="form-select">
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="30">30</option>
                <option value="40">40</option>
                <option value="50">50</option>
                <option value="100">100</option>
                <option value="200">200</option>
            </select>
        </div>
        <div class="float-start total-records">Total Record(s) <strong>{{vendorGridModel.totalRecords}}</strong></div>
        <div class="float-end">
            <ngb-pagination [collectionSize]="vendorGridModel.totalRecords" [pageSize]="vendorParameterModel.pageSize"
                [(page)]="vendorParameterModel.pageIndex" [maxSize]="5" [rotate]="true" [ellipses]="false"
                [boundaryLinks]="true" (pageChange)="search()"></ngb-pagination>
        </div>
    </div>
</div>