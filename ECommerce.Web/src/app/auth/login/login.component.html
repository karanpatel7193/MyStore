<div class="d-flex justify-content-center align-items-center vh-100 bg-light">
    <div class="col-xl-3 col-lg-4 col-md-5 col-sm-7 col-10">
        <div class="form-signin w-100 m-auto tile-panel glass-effect bg-light p-4 rounded-4 shadow-lg">
            <form (ngSubmit)="login(UserForm.valid ?? false)" #UserForm="ngForm" autocomplete="off" novalidate>
                <h1 class="h3 mt-2 mb-2 fw-normal text-center">Login here</h1>
                <p class="sub-title mb-3 text-center">Sign in with your username or email</p>

                <div class="form-floating mb-3">
                    <input type="text" name="inputEmail" id="inputEmail" class="form-control shadow-sm size-lg rounded-3"
                        autofocus [(ngModel)]="user.username" placeholder="Username" required #inputEmail="ngModel"
                        [ngClass]="{'is-invalid':(UserForm.submitted || inputEmail.dirty  || inputEmail.touched) && (inputEmail.invalid)}" />
                    <label for="inputEmail">Username / Email</label>
                    <div class="invalid-feedback text-start">
                        <p>Username is required!</p>
                    </div>
                </div>

                <div class="form-floating mb-3 position-relative">
                    <input type="{{showPassword.password}}" name="inputPassword" id="inputPassword"
                        class="form-control shadow-sm size-lg rounded-3" [(ngModel)]="user.password" placeholder="Password"
                        required #inputPassword="ngModel"
                        [ngClass]="{'is-invalid': (UserForm.submitted || inputPassword.dirty || inputPassword.touched) && inputPassword.invalid}" />
                    <label for="inputPassword">Password</label>
                    <span class="bi position-absolute top-50 translate-middle-y end-0 pe-3 show-pwd"
                        (click)="togglePassword('password')">
                        <i [ngClass]="{'bi-eye-slash': showPassword.password === 'password', 'bi-eye': showPassword.password === 'text'}"></i>
                    </span>
                    <div class="invalid-feedback text-start">
                        <p>Password is required.</p>
                    </div>
                </div>

                <button class="w-100 btn btn-lg btn-primary mb-3 rounded-3">Login</button>
                <div class="text-center">
                    <button (click)="forgotPassword()"><small>Forgot Password?</small></button>
                </div>
                <p class="text-center mt-3">Don't have an account?  <button  (click)="register()">register</button> </p>
                <p class="mt-4 mb-3 text-muted text-center">© InfoElegant 2020–2025</p>
            </form>
        </div>
    </div>
</div>
